(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,a=window.wp.element,n=window.wp.i18n,l=window.wp.apiFetch;var s=e.n(l);const r=()=>{const[e,l]=(0,a.useState)(null),[r,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{_()},[]);const _=async()=>{try{const e=await s()({path:"/tabesh/v2/orders"});l({total:e.total||0}),c(!1)}catch(e){console.error("Error loading stats:",e),c(!1)}};return r?(0,t.createElement)("div",{className:"tabesh-v2-app"},(0,t.createElement)("div",{className:"loading"},(0,n.__)("Loading...","tabesh-v2"))):(0,t.createElement)("div",{className:"tabesh-v2-app"},(0,t.createElement)("h1",null,(0,n.__)("Tabesh v2 - Print Shop Order Management","tabesh-v2")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("h2",null,(0,n.__)("Welcome to Tabesh v2","tabesh-v2")),(0,t.createElement)("p",null,(0,n.__)("This is a comprehensive print shop order management system.","tabesh-v2")),(0,t.createElement)("div",{className:"stats-grid"},(0,t.createElement)("div",{className:"stat-card"},(0,t.createElement)("p",null,(0,n.__)("Total Orders","tabesh-v2")),(0,t.createElement)("h3",null,e?.total||0)))))},c=({message:e,size:a="medium"})=>(0,t.createElement)("div",{className:"tabesh-loading-container"},(0,t.createElement)("div",{className:`tabesh-spinner tabesh-spinner-${a}`},(0,t.createElement)("div",{className:"tabesh-spinner-circle"}),(0,t.createElement)("div",{className:"tabesh-spinner-circle"}),(0,t.createElement)("div",{className:"tabesh-spinner-circle"})),e&&(0,t.createElement)("p",{className:"tabesh-loading-message"},e)),_=()=>{const[e,l]=(0,a.useState)([]),[r,_]=(0,a.useState)(!0);(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await s()({path:"/tabesh/v2/customers"});l(e),_(!1)}catch(e){console.error("Error loading customers:",e),_(!1)}};return r?(0,t.createElement)("div",{className:"tabesh-v2-app"},(0,t.createElement)(c,{message:(0,n.__)("در حال بارگذاری مشتریان...","tabesh-v2"),size:"medium"})):(0,t.createElement)("div",{className:"tabesh-v2-app"},(0,t.createElement)("h1",null,(0,n.__)("Customers Panel","tabesh-v2")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("h2",null,(0,n.__)("Customer List","tabesh-v2")),0===e.length?(0,t.createElement)("p",null,(0,n.__)("No customers found.","tabesh-v2")):(0,t.createElement)("table",null,(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,(0,n.__)("ID","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Contact Name","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Email","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Phone","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Company","tabesh-v2")))),(0,t.createElement)("tbody",null,e.map(e=>(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,e.id),(0,t.createElement)("td",null,e.contact_name),(0,t.createElement)("td",null,e.email),(0,t.createElement)("td",null,e.phone),(0,t.createElement)("td",null,e.company_name)))))))},m=()=>{const[e,l]=(0,a.useState)([]),[r,_]=(0,a.useState)(!0);(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await s()({path:"/tabesh/v2/orders"});l(e.orders||[]),_(!1)}catch(e){console.error("Error loading orders:",e),_(!1)}};return r?(0,t.createElement)("div",{className:"tabesh-v2-app"},(0,t.createElement)(c,{message:(0,n.__)("در حال بارگذاری سفارشات...","tabesh-v2"),size:"medium"})):(0,t.createElement)("div",{className:"tabesh-v2-app"},(0,t.createElement)("h1",null,(0,n.__)("Managers Panel","tabesh-v2")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("h2",null,(0,n.__)("Order Management","tabesh-v2")),0===e.length?(0,t.createElement)("p",null,(0,n.__)("No orders found.","tabesh-v2")):(0,t.createElement)("table",null,(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,(0,n.__)("Order Number","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Status","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Amount","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Date","tabesh-v2")))),(0,t.createElement)("tbody",null,e.map(e=>(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,e.order_number),(0,t.createElement)("td",null,e.status),(0,t.createElement)("td",null,e.total_amount),(0,t.createElement)("td",null,e.created_at)))))))},o=()=>{const[e,l]=(0,a.useState)([]),[r,_]=(0,a.useState)(!0);(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await s()({path:"/tabesh/v2/orders"});l(e.orders||[]),_(!1)}catch(e){console.error("Error loading orders:",e),_(!1)}};return r?(0,t.createElement)("div",{className:"tabesh-v2-app"},(0,t.createElement)(c,{message:(0,n.__)("در حال بارگذاری سفارشات...","tabesh-v2"),size:"medium"})):(0,t.createElement)("div",{className:"tabesh-v2-app"},(0,t.createElement)("h1",null,(0,n.__)("Employees Panel","tabesh-v2")),(0,t.createElement)("div",{className:"card"},(0,t.createElement)("h2",null,(0,n.__)("Assigned Orders","tabesh-v2")),0===e.length?(0,t.createElement)("p",null,(0,n.__)("No assigned orders found.","tabesh-v2")):(0,t.createElement)("table",null,(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,(0,n.__)("Order Number","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Status","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Deadline","tabesh-v2")),(0,t.createElement)("th",null,(0,n.__)("Priority","tabesh-v2")))),(0,t.createElement)("tbody",null,e.map(e=>(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,e.order_number),(0,t.createElement)("td",null,e.status),(0,t.createElement)("td",null,e.deadline),(0,t.createElement)("td",null,e.priority)))))))},h=({tabs:e})=>{const[n,l]=(0,a.useState)(e[0]?.id||"");return(0,t.createElement)("div",{className:"tabesh-tab-panel"},(0,t.createElement)("div",{className:"tab-navigation"},e.map(e=>(0,t.createElement)("button",{key:e.id,className:"tab-button "+(n===e.id?"active":""),onClick:()=>l(e.id)},e.title))),(0,t.createElement)("div",{className:"tab-content"},e.map(e=>(0,t.createElement)("div",{key:e.id,className:"tab-panel "+(n===e.id?"active":""),style:{display:n===e.id?"block":"none"}},e.content))))},i=({label:e,description:a,children:n})=>(0,t.createElement)("div",{className:"form-group"},(0,t.createElement)("label",{className:"form-label"},e),n,a&&(0,t.createElement)("p",{className:"description"},a)),b=({name:e,value:a,onChange:n,placeholder:l="",type:s="text"})=>(0,t.createElement)("input",{type:s,name:e,value:a||"",onChange:n,placeholder:l,className:"regular-text"}),d=({name:e,value:a,onChange:n,placeholder:l="",rows:s=4})=>(0,t.createElement)("textarea",{name:e,value:a||"",onChange:n,placeholder:l,rows:s,className:"large-text"}),v=({name:e,value:a,onChange:n,options:l,placeholder:s=""})=>(0,t.createElement)("select",{name:e,value:a||"",onChange:n,className:"regular-text"},s&&(0,t.createElement)("option",{value:""},s),l.map(e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))),u=({name:e,checked:a,onChange:n,label:l})=>(0,t.createElement)("label",{className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",name:e,checked:a||!1,onChange:n}),(0,t.createElement)("span",null,l)),p=({title:e,description:a,children:n})=>(0,t.createElement)("div",{className:"settings-section"},(0,t.createElement)("h3",{className:"section-title"},e),a&&(0,t.createElement)("p",{className:"section-description"},a),(0,t.createElement)("div",{className:"section-content"},n)),E=({settings:e,onChange:a})=>{const l=e.ai||{},s=t=>{const{name:n,value:s,type:r,checked:c}=t.target;a({...e,ai:{...l,[n]:"checkbox"===r?c:s}})};return(0,t.createElement)("div",{className:"ai-settings-tab"},(0,t.createElement)(p,{title:(0,n.__)("اتصال به ChatGPT","tabesh-v2"),description:(0,n.__)("پیکربندی و اتصال به سرویس هوش مصنوعی ChatGPT","tabesh-v2")},(0,t.createElement)(i,{label:(0,n.__)("API Key","tabesh-v2"),description:(0,n.__)("کلید API دریافتی از OpenAI","tabesh-v2")},(0,t.createElement)(b,{name:"api_key",value:l.api_key,onChange:s,type:"password",placeholder:"sk-..."})),(0,t.createElement)(i,{label:(0,n.__)("مدل ChatGPT","tabesh-v2"),description:(0,n.__)("نسخه مدل هوش مصنوعی مورد استفاده","tabesh-v2")},(0,t.createElement)(b,{name:"model",value:l.model,onChange:s,placeholder:"gpt-4"})),(0,t.createElement)(i,{label:(0,n.__)("Organization ID (اختیاری)","tabesh-v2"),description:(0,n.__)("شناسه سازمان در OpenAI","tabesh-v2")},(0,t.createElement)(b,{name:"organization_id",value:l.organization_id,onChange:s,placeholder:"org-..."})),(0,t.createElement)(i,{label:(0,n.__)("فعال‌سازی","tabesh-v2")},(0,t.createElement)(u,{name:"enabled",checked:l.enabled,onChange:s,label:(0,n.__)("استفاده از هوش مصنوعی فعال است","tabesh-v2")}))),(0,t.createElement)(p,{title:(0,n.__)("تنظیمات پیشرفته","tabesh-v2"),description:(0,n.__)("تنظیمات پیشرفته هوش مصنوعی","tabesh-v2")},(0,t.createElement)(i,{label:(0,n.__)("دمای مدل (Temperature)","tabesh-v2"),description:(0,n.__)("میزان خلاقیت پاسخ‌ها (0 تا 2)","tabesh-v2")},(0,t.createElement)(b,{name:"temperature",value:l.temperature,onChange:s,type:"number",placeholder:"0.7"})),(0,t.createElement)(i,{label:(0,n.__)("حداکثر توکن‌ها","tabesh-v2"),description:(0,n.__)("حداکثر تعداد توکن‌های پاسخ","tabesh-v2")},(0,t.createElement)(b,{name:"max_tokens",value:l.max_tokens,onChange:s,type:"number",placeholder:"2000"})),(0,t.createElement)(i,{label:(0,n.__)("دستورالعمل سیستم (System Prompt)","tabesh-v2"),description:(0,n.__)("دستورالعمل اولیه برای هوش مصنوعی","tabesh-v2")},(0,t.createElement)(d,{name:"system_prompt",value:l.system_prompt,onChange:s,rows:6,placeholder:(0,n.__)("شما یک دستیار هوشمند برای مدیریت سفارشات چاپ هستید...","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("سایر تنظیمات","tabesh-v2")},(0,t.createElement)(u,{name:"cache_responses",checked:l.cache_responses,onChange:s,label:(0,n.__)("ذخیره پاسخ‌های تکراری","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"log_requests",checked:l.log_requests,onChange:s,label:(0,n.__)("ثبت لاگ درخواست‌ها","tabesh-v2")}))))},g=({settings:e,onChange:l})=>{const s=e.products||{},r=[{value:"book_print",label:(0,n.__)("چاپ کتاب","tabesh-v2")},{value:"receipt_ready",label:(0,n.__)("چاپ قبض با طرح آماده","tabesh-v2")},{value:"receipt_custom",label:(0,n.__)("چاپ قبض با طرح دلخواه","tabesh-v2")},{value:"box_ready",label:(0,n.__)("چاپ جعبه با طرح آماده","tabesh-v2")},{value:"box_custom",label:(0,n.__)("چاپ جعبه با طرح دلخواه","tabesh-v2")},{value:"invoice_ready",label:(0,n.__)("چاپ فاکتور با طرح آماده","tabesh-v2")},{value:"invoice_custom",label:(0,n.__)("چاپ فاکتور با طرح دلخواه","tabesh-v2")},{value:"business_card_ready",label:(0,n.__)("چاپ کارت ویزیت با طرح آماده","tabesh-v2")},{value:"business_card_custom",label:(0,n.__)("چاپ کارت ویزیت با طرح دلخواه","tabesh-v2")},{value:"poster_ready",label:(0,n.__)("چاپ پوستر با طرح آماده","tabesh-v2")},{value:"poster_custom",label:(0,n.__)("چاپ پوستر با طرح دلخواه","tabesh-v2")},{value:"flyer_ready",label:(0,n.__)("چاپ تراکت با طرح آماده","tabesh-v2")},{value:"flyer_custom",label:(0,n.__)("چاپ تراکت با طرح دلخواه","tabesh-v2")},{value:"foil_print",label:(0,n.__)("چاپ طلاکوب / نقره کوب / مس کوب","tabesh-v2")},{value:"thesis_binding",label:(0,n.__)("چاپ مقالات با صحافی","tabesh-v2")},{value:"research_with_work",label:(0,n.__)("چاپ تحقیق / جزوه / مقاله با انجام تحقیق","tabesh-v2")},{value:"research_with_file",label:(0,n.__)("چاپ تحقیق / جزوه / مقاله با ارسال فایل","tabesh-v2")},{value:"endowment_print",label:(0,n.__)("چاپ وقف نامه و یاد بود","tabesh-v2")},{value:"advertising_print",label:(0,n.__)("چاپ تبلیغات","tabesh-v2")}],[c,_]=(0,a.useState)(r[0].value),m=(t,a,n)=>{l({...e,products:{...s,[t]:{...s[t]||{},[a]:n}}})},o=s[c]||{};return(0,t.createElement)("div",{className:"product-parameters-tab"},(0,t.createElement)(p,{title:(0,n.__)("انتخاب محصول","tabesh-v2"),description:(0,n.__)("محصول مورد نظر را انتخاب کنید تا پارامترهای آن را تنظیم نمایید","tabesh-v2")},(0,t.createElement)(i,{label:(0,n.__)("نوع محصول","tabesh-v2")},(0,t.createElement)(v,{name:"product_type",value:c,onChange:e=>_(e.target.value),options:r}))),(0,t.createElement)(p,{title:(0,n.__)("پارامترهای محصول","tabesh-v2"),description:(0,n.__)(`تنظیم پارامترهای ${r.find(e=>e.value===c)?.label}`,"tabesh-v2")},(0,t.createElement)(i,{label:(0,n.__)("فعال بودن محصول","tabesh-v2"),description:(0,n.__)("آیا این محصول در فروشگاه نمایش داده شود؟","tabesh-v2")},(0,t.createElement)("label",{className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",checked:o.enabled||!1,onChange:e=>m(c,"enabled",e.target.checked)}),(0,t.createElement)("span",null,(0,n.__)("فعال","tabesh-v2")))),(0,t.createElement)(i,{label:(0,n.__)("حداقل تعداد سفارش","tabesh-v2"),description:(0,n.__)("حداقل تعداد برای سفارش این محصول","tabesh-v2")},(0,t.createElement)(b,{name:"min_quantity",value:o.min_quantity,onChange:e=>m(c,"min_quantity",e.target.value),type:"number",placeholder:"1"})),(0,t.createElement)(i,{label:(0,n.__)("حداکثر تعداد سفارش","tabesh-v2"),description:(0,n.__)("حداکثر تعداد برای سفارش این محصول","tabesh-v2")},(0,t.createElement)(b,{name:"max_quantity",value:o.max_quantity,onChange:e=>m(c,"max_quantity",e.target.value),type:"number",placeholder:"10000"})),(0,t.createElement)(i,{label:(0,n.__)("زمان تحویل (روز)","tabesh-v2"),description:(0,n.__)("تعداد روزهای کاری برای تحویل محصول","tabesh-v2")},(0,t.createElement)(b,{name:"delivery_days",value:o.delivery_days,onChange:e=>m(c,"delivery_days",e.target.value),type:"number",placeholder:"7"})),(0,t.createElement)(i,{label:(0,n.__)("قیمت پایه","tabesh-v2"),description:(0,n.__)("قیمت پایه محصول (تومان)","tabesh-v2")},(0,t.createElement)(b,{name:"base_price",value:o.base_price,onChange:e=>m(c,"base_price",e.target.value),type:"number",placeholder:"0"})),(0,t.createElement)(i,{label:(0,n.__)("توضیحات اضافی","tabesh-v2"),description:(0,n.__)("توضیحات و راهنمایی‌های لازم برای سفارش این محصول","tabesh-v2")},(0,t.createElement)("textarea",{name:"description",value:o.description||"",onChange:e=>m(c,"description",e.target.value),rows:4,className:"large-text",placeholder:(0,n.__)("توضیحات محصول...","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("پارامترهای سفارشی (JSON)","tabesh-v2"),description:(0,n.__)("پارامترهای اضافی به صورت JSON","tabesh-v2")},(0,t.createElement)("textarea",{name:"custom_params",value:o.custom_params||"",onChange:e=>m(c,"custom_params",e.target.value),rows:6,className:"large-text code",placeholder:'{"sizes": ["A4", "A5"], "colors": ["رنگی", "سیاه و سفید"]}'}))))},y=({settings:e,onChange:a})=>{const l=e.pricing||{},s=t=>{const{name:n,value:s,type:r,checked:c}=t.target;a({...e,pricing:{...l,[n]:"checkbox"===r?c:s}})};return(0,t.createElement)("div",{className:"pricing-settings-tab"},(0,t.createElement)(p,{title:(0,n.__)("تنظیمات عمومی قیمت‌گذاری","tabesh-v2"),description:(0,n.__)("تنظیمات کلی مربوط به قیمت‌گذاری محصولات","tabesh-v2")},(0,t.createElement)(i,{label:(0,n.__)("واحد پول","tabesh-v2"),description:(0,n.__)("واحد پولی مورد استفاده","tabesh-v2")},(0,t.createElement)(b,{name:"currency",value:l.currency,onChange:s,placeholder:"تومان"})),(0,t.createElement)(i,{label:(0,n.__)("نماد پول","tabesh-v2"),description:(0,n.__)("نماد نمایش پول","tabesh-v2")},(0,t.createElement)(b,{name:"currency_symbol",value:l.currency_symbol,onChange:s,placeholder:"تومان"})),(0,t.createElement)(i,{label:(0,n.__)("موقعیت نماد","tabesh-v2"),description:(0,n.__)("موقعیت نمایش نماد پول","tabesh-v2")},(0,t.createElement)("select",{name:"currency_position",value:l.currency_position||"after",onChange:s,className:"regular-text"},(0,t.createElement)("option",{value:"before"},(0,n.__)("قبل از عدد","tabesh-v2")),(0,t.createElement)("option",{value:"after"},(0,n.__)("بعد از عدد","tabesh-v2")))),(0,t.createElement)(i,{label:(0,n.__)("تعداد اعشار","tabesh-v2"),description:(0,n.__)("تعداد ارقام اعشار در قیمت‌ها","tabesh-v2")},(0,t.createElement)(b,{name:"decimals",value:l.decimals,onChange:s,type:"number",placeholder:"0"}))),(0,t.createElement)(p,{title:(0,n.__)("مالیات و تخفیف","tabesh-v2"),description:(0,n.__)("تنظیمات مالیات و تخفیف","tabesh-v2")},(0,t.createElement)(i,{label:(0,n.__)("فعال‌سازی","tabesh-v2")},(0,t.createElement)(u,{name:"tax_enabled",checked:l.tax_enabled,onChange:s,label:(0,n.__)("محاسبه مالیات","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("نرخ مالیات (درصد)","tabesh-v2"),description:(0,n.__)("درصد مالیات بر ارزش افزوده","tabesh-v2")},(0,t.createElement)(b,{name:"tax_rate",value:l.tax_rate,onChange:s,type:"number",placeholder:"9"})),(0,t.createElement)(i,{label:(0,n.__)("حداکثر تخفیف (درصد)","tabesh-v2"),description:(0,n.__)("حداکثر درصد تخفیف قابل اعمال","tabesh-v2")},(0,t.createElement)(b,{name:"max_discount",value:l.max_discount,onChange:s,type:"number",placeholder:"30"})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"discount_enabled",checked:l.discount_enabled,onChange:s,label:(0,n.__)("فعال‌سازی تخفیف","tabesh-v2")}))),(0,t.createElement)(p,{title:(0,n.__)("تخفیف حجمی","tabesh-v2"),description:(0,n.__)("تنظیمات تخفیف بر اساس تعداد سفارش","tabesh-v2")},(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"bulk_discount_enabled",checked:l.bulk_discount_enabled,onChange:s,label:(0,n.__)("فعال‌سازی تخفیف حجمی","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("جدول تخفیف حجمی (JSON)","tabesh-v2"),description:(0,n.__)("تعریف محدوده‌های تخفیف به صورت JSON","tabesh-v2")},(0,t.createElement)(d,{name:"bulk_discount_table",value:l.bulk_discount_table,onChange:s,rows:6,placeholder:'[{"min": 100, "max": 500, "discount": 5}, {"min": 501, "max": 1000, "discount": 10}]'}))),(0,t.createElement)(p,{title:(0,n.__)("هزینه‌های اضافی","tabesh-v2"),description:(0,n.__)("تنظیمات هزینه‌های جانبی","tabesh-v2")},(0,t.createElement)(i,{label:(0,n.__)("هزینه ارسال پایه","tabesh-v2"),description:(0,n.__)("هزینه پایه ارسال محصولات","tabesh-v2")},(0,t.createElement)(b,{name:"base_shipping_cost",value:l.base_shipping_cost,onChange:s,type:"number",placeholder:"0"})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"free_shipping_enabled",checked:l.free_shipping_enabled,onChange:s,label:(0,n.__)("ارسال رایگان","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("حداقل مبلغ برای ارسال رایگان","tabesh-v2"),description:(0,n.__)("حداقل مبلغ سفارش برای ارسال رایگان","tabesh-v2")},(0,t.createElement)(b,{name:"free_shipping_threshold",value:l.free_shipping_threshold,onChange:s,type:"number",placeholder:"1000000"}))))},C=({settings:e,onChange:a})=>{const l=e.sms||{},s=t=>{const{name:n,value:s,type:r,checked:c}=t.target;a({...e,sms:{...l,[n]:"checkbox"===r?c:s}})};return(0,t.createElement)("div",{className:"sms-settings-tab"},(0,t.createElement)(p,{title:(0,n.__)("تنظیمات سرویس پیامک","tabesh-v2"),description:(0,n.__)("پیکربندی سرویس ارسال پیامک","tabesh-v2")},(0,t.createElement)(i,{label:(0,n.__)("فعال‌سازی","tabesh-v2")},(0,t.createElement)(u,{name:"enabled",checked:l.enabled,onChange:s,label:(0,n.__)("سرویس پیامک فعال است","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("ارائه‌دهنده سرویس","tabesh-v2"),description:(0,n.__)("نام ارائه‌دهنده سرویس پیامک","tabesh-v2")},(0,t.createElement)("select",{name:"provider",value:l.provider||"kavenegar",onChange:s,className:"regular-text"},(0,t.createElement)("option",{value:"kavenegar"},(0,n.__)("کاوه‌نگار","tabesh-v2")),(0,t.createElement)("option",{value:"farazsms"},(0,n.__)("فراز اس‌ام‌اس","tabesh-v2")),(0,t.createElement)("option",{value:"smsir"},(0,n.__)("اس‌ام‌اس.آی‌آر","tabesh-v2")),(0,t.createElement)("option",{value:"melipayamak"},(0,n.__)("ملی پیامک","tabesh-v2")),(0,t.createElement)("option",{value:"custom"},(0,n.__)("سفارشی","tabesh-v2")))),(0,t.createElement)(i,{label:(0,n.__)("API Key","tabesh-v2"),description:(0,n.__)("کلید API دریافتی از سرویس پیامک","tabesh-v2")},(0,t.createElement)(b,{name:"api_key",value:l.api_key,onChange:s,type:"password",placeholder:""})),(0,t.createElement)(i,{label:(0,n.__)("شماره ارسال‌کننده","tabesh-v2"),description:(0,n.__)("شماره خط ارسال پیامک","tabesh-v2")},(0,t.createElement)(b,{name:"sender_number",value:l.sender_number,onChange:s,placeholder:"10000xxxxx"})),(0,t.createElement)(i,{label:(0,n.__)("URL وب‌سرویس (برای سرویس سفارشی)","tabesh-v2"),description:(0,n.__)("آدرس API در صورت استفاده از سرویس سفارشی","tabesh-v2")},(0,t.createElement)(b,{name:"api_url",value:l.api_url,onChange:s,placeholder:"https://"}))),(0,t.createElement)(p,{title:(0,n.__)("قالب پیام‌های خودکار","tabesh-v2"),description:(0,n.__)("قالب پیامک‌های ارسالی به مشتریان","tabesh-v2")},(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"send_on_order_create",checked:l.send_on_order_create,onChange:s,label:(0,n.__)("ارسال پیامک هنگام ثبت سفارش","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("قالب پیامک ثبت سفارش","tabesh-v2"),description:(0,n.__)("متغیرهای قابل استفاده: {customer_name}, {order_number}, {total_amount}","tabesh-v2")},(0,t.createElement)(d,{name:"order_create_template",value:l.order_create_template,onChange:s,rows:4,placeholder:(0,n.__)("سلام {customer_name}، سفارش شما با شماره {order_number} ثبت شد.","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"send_on_status_change",checked:l.send_on_status_change,onChange:s,label:(0,n.__)("ارسال پیامک هنگام تغییر وضعیت","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("قالب پیامک تغییر وضعیت","tabesh-v2"),description:(0,n.__)("متغیرهای قابل استفاده: {customer_name}, {order_number}, {status}","tabesh-v2")},(0,t.createElement)(d,{name:"status_change_template",value:l.status_change_template,onChange:s,rows:4,placeholder:(0,n.__)("سفارش {order_number} به وضعیت {status} تغییر یافت.","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"send_on_delivery",checked:l.send_on_delivery,onChange:s,label:(0,n.__)("ارسال پیامک هنگام آماده شدن برای ارسال","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("قالب پیامک آماده ارسال","tabesh-v2"),description:(0,n.__)("پیامک اطلاع‌رسانی آماده بودن سفارش برای ارسال","tabesh-v2")},(0,t.createElement)(d,{name:"delivery_template",value:l.delivery_template,onChange:s,rows:4,placeholder:(0,n.__)("سفارش شما آماده ارسال است.","tabesh-v2")}))),(0,t.createElement)(p,{title:(0,n.__)("تنظیمات پیشرفته","tabesh-v2"),description:(0,n.__)("سایر تنظیمات پیامک","tabesh-v2")},(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"log_messages",checked:l.log_messages,onChange:s,label:(0,n.__)("ثبت لاگ پیامک‌های ارسالی","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("حداکثر تلاش مجدد","tabesh-v2"),description:(0,n.__)("تعداد دفعات تلاش مجدد در صورت خطا","tabesh-v2")},(0,t.createElement)(b,{name:"max_retries",value:l.max_retries,onChange:s,type:"number",placeholder:"3"}))))},k=({settings:e,onChange:a})=>{const l=e.firewall||{},s=t=>{const{name:n,value:s,type:r,checked:c}=t.target;a({...e,firewall:{...l,[n]:"checkbox"===r?c:s}})};return(0,t.createElement)("div",{className:"firewall-settings-tab"},(0,t.createElement)(p,{title:(0,n.__)("تنظیمات امنیتی","tabesh-v2"),description:(0,n.__)("پیکربندی فایروال و امنیت","tabesh-v2")},(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"enabled",checked:l.enabled,onChange:s,label:(0,n.__)("فعال‌سازی فایروال","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"rate_limiting",checked:l.rate_limiting,onChange:s,label:(0,n.__)("محدودیت تعداد درخواست","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("حداکثر درخواست در دقیقه","tabesh-v2"),description:(0,n.__)("تعداد مجاز درخواست در هر دقیقه","tabesh-v2")},(0,t.createElement)(b,{name:"max_requests_per_minute",value:l.max_requests_per_minute,onChange:s,type:"number",placeholder:"60"})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"ip_blocking",checked:l.ip_blocking,onChange:s,label:(0,n.__)("مسدودسازی IP","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("لیست IP های مسدود شده","tabesh-v2"),description:(0,n.__)("هر IP در یک خط","tabesh-v2")},(0,t.createElement)(d,{name:"blocked_ips",value:l.blocked_ips,onChange:s,rows:6,placeholder:"192.168.1.1\n10.0.0.1"})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"brute_force_protection",checked:l.brute_force_protection,onChange:s,label:(0,n.__)("حفاظت در برابر حملات Brute Force","tabesh-v2")}))))},N=({settings:e,onChange:a})=>{const l=e.file||{},s=t=>{const{name:n,value:s,type:r,checked:c}=t.target;a({...e,file:{...l,[n]:"checkbox"===r?c:s}})};return(0,t.createElement)("div",{className:"file-settings-tab"},(0,t.createElement)(p,{title:(0,n.__)("تنظیمات فایل‌ها","tabesh-v2"),description:(0,n.__)("مدیریت آپلود و دانلود فایل‌ها","tabesh-v2")},(0,t.createElement)(i,{label:(0,n.__)("حداکثر حجم فایل (MB)","tabesh-v2"),description:(0,n.__)("حداکثر حجم مجاز برای آپلود فایل","tabesh-v2")},(0,t.createElement)(b,{name:"max_file_size",value:l.max_file_size,onChange:s,type:"number",placeholder:"10"})),(0,t.createElement)(i,{label:(0,n.__)("فرمت‌های مجاز","tabesh-v2"),description:(0,n.__)("فرمت‌های مجاز جدا شده با کاما","tabesh-v2")},(0,t.createElement)(b,{name:"allowed_formats",value:l.allowed_formats,onChange:s,placeholder:"pdf,jpg,png,doc,docx"})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"scan_uploads",checked:l.scan_uploads,onChange:s,label:(0,n.__)("اسکن فایل‌های آپلود شده","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("مسیر ذخیره‌سازی","tabesh-v2"),description:(0,n.__)("مسیر ذخیره فایل‌های آپلود شده","tabesh-v2")},(0,t.createElement)(b,{name:"upload_path",value:l.upload_path,onChange:s,placeholder:"wp-content/uploads/tabesh"})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"auto_delete_old_files",checked:l.auto_delete_old_files,onChange:s,label:(0,n.__)("حذف خودکار فایل‌های قدیمی","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("مدت نگهداری فایل‌ها (روز)","tabesh-v2"),description:(0,n.__)("تعداد روزهای نگهداری فایل‌ها قبل از حذف خودکار","tabesh-v2")},(0,t.createElement)(b,{name:"file_retention_days",value:l.file_retention_days,onChange:s,type:"number",placeholder:"90"}))))},x=({settings:e,onChange:a})=>{const l=e.access_level||{},s=t=>{const{name:n,value:s,type:r,checked:c}=t.target;a({...e,access_level:{...l,[n]:"checkbox"===r?c:s}})};return(0,t.createElement)("div",{className:"access-level-settings-tab"},(0,t.createElement)(p,{title:(0,n.__)("سطوح دسترسی","tabesh-v2"),description:(0,n.__)("تنظیم سطوح دسترسی کاربران","tabesh-v2")},(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"customer_can_view_orders",checked:l.customer_can_view_orders,onChange:s,label:(0,n.__)("مشتریان می‌توانند سفارشات خود را مشاهده کنند","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"customer_can_cancel_orders",checked:l.customer_can_cancel_orders,onChange:s,label:(0,n.__)("مشتریان می‌توانند سفارشات را لغو کنند","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"manager_can_delete_orders",checked:l.manager_can_delete_orders,onChange:s,label:(0,n.__)("مدیران می‌توانند سفارشات را حذف کنند","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"employee_can_edit_orders",checked:l.employee_can_edit_orders,onChange:s,label:(0,n.__)("کارمندان می‌توانند سفارشات را ویرایش کنند","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"require_approval",checked:l.require_approval,onChange:s,label:(0,n.__)("سفارشات نیاز به تایید دارند","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("نقش‌های مجاز برای تایید","tabesh-v2"),description:(0,n.__)("نقش‌های WordPress مجاز برای تایید سفارشات","tabesh-v2")},(0,t.createElement)(b,{name:"approval_roles",value:l.approval_roles,onChange:s,placeholder:"administrator,shop_manager"}))))},f=({settings:e,onChange:a})=>{const l=e.import_export||{},s=t=>{const{name:n,value:s,type:r,checked:c}=t.target;a({...e,import_export:{...l,[n]:"checkbox"===r?c:s}})};return(0,t.createElement)("div",{className:"import-export-settings-tab"},(0,t.createElement)(p,{title:(0,n.__)("تنظیمات برون‌ریزی و درون‌ریزی","tabesh-v2"),description:(0,n.__)("مدیریت برون‌ریزی و درون‌ریزی داده‌ها","tabesh-v2")},(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"allow_export",checked:l.allow_export,onChange:s,label:(0,n.__)("امکان برون‌ریزی داده‌ها","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"allow_import",checked:l.allow_import,onChange:s,label:(0,n.__)("امکان درون‌ریزی داده‌ها","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("فرمت برون‌ریزی","tabesh-v2"),description:(0,n.__)("فرمت پیش‌فرض برون‌ریزی","tabesh-v2")},(0,t.createElement)("select",{name:"export_format",value:l.export_format||"csv",onChange:s,className:"regular-text"},(0,t.createElement)("option",{value:"csv"},"CSV"),(0,t.createElement)("option",{value:"json"},"JSON"),(0,t.createElement)("option",{value:"xml"},"XML"),(0,t.createElement)("option",{value:"excel"},"Excel"))),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"include_customer_data",checked:l.include_customer_data,onChange:s,label:(0,n.__)("شامل اطلاعات مشتریان","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"include_order_data",checked:l.include_order_data,onChange:s,label:(0,n.__)("شامل اطلاعات سفارشات","tabesh-v2")})),(0,t.createElement)(i,null,(0,t.createElement)(u,{name:"auto_backup",checked:l.auto_backup,onChange:s,label:(0,n.__)("پشتیبان‌گیری خودکار","tabesh-v2")})),(0,t.createElement)(i,{label:(0,n.__)("دوره پشتیبان‌گیری (روز)","tabesh-v2"),description:(0,n.__)("فاصله زمانی پشتیبان‌گیری خودکار","tabesh-v2")},(0,t.createElement)(b,{name:"backup_interval",value:l.backup_interval,onChange:s,type:"number",placeholder:"7"})),(0,t.createElement)(i,{label:(0,n.__)("تعداد نسخه‌های پشتیبان نگهداری شده","tabesh-v2"),description:(0,n.__)("حداکثر تعداد فایل‌های پشتیبان برای نگهداری","tabesh-v2")},(0,t.createElement)(b,{name:"max_backups",value:l.max_backups,onChange:s,type:"number",placeholder:"10"}))))},w=()=>{const[e,l]=(0,a.useState)({}),[r,_]=(0,a.useState)(!0),[m,o]=(0,a.useState)(!1),[i,b]=(0,a.useState)(""),[d,v]=(0,a.useState)("success");(0,a.useEffect)(()=>{u()},[]);const u=async()=>{try{const e=await s()({path:"/tabesh/v2/settings"});l(e),_(!1)}catch(e){console.error("Error loading settings:",e),_(!1)}},p=e=>{l(e)};if(r)return(0,t.createElement)("div",{className:"tabesh-v2-app"},(0,t.createElement)(c,{message:(0,n.__)("در حال بارگذاری تنظیمات...","tabesh-v2"),size:"large"}));const w=[{id:"ai",title:(0,n.__)("تنظیمات هوش مصنوعی","tabesh-v2"),content:(0,t.createElement)(E,{settings:e,onChange:p})},{id:"products",title:(0,n.__)("پارامترهای محصولات","tabesh-v2"),content:(0,t.createElement)(g,{settings:e,onChange:p})},{id:"pricing",title:(0,n.__)("قیمت‌گذاری","tabesh-v2"),content:(0,t.createElement)(y,{settings:e,onChange:p})},{id:"sms",title:(0,n.__)("تنظیمات پیامک","tabesh-v2"),content:(0,t.createElement)(C,{settings:e,onChange:p})},{id:"firewall",title:(0,n.__)("تنظیمات فایروال","tabesh-v2"),content:(0,t.createElement)(k,{settings:e,onChange:p})},{id:"file",title:(0,n.__)("تنظیمات فایل","tabesh-v2"),content:(0,t.createElement)(N,{settings:e,onChange:p})},{id:"access",title:(0,n.__)("سطح دسترسی","tabesh-v2"),content:(0,t.createElement)(x,{settings:e,onChange:p})},{id:"import_export",title:(0,n.__)("برون‌ریزی و درون‌ریزی","tabesh-v2"),content:(0,t.createElement)(f,{settings:e,onChange:p})}];return(0,t.createElement)("div",{className:"tabesh-v2-app tabesh-settings-panel"},(0,t.createElement)("div",{className:"settings-header"},(0,t.createElement)("h1",null,(0,n.__)("پنل پیکربندی تابش","tabesh-v2")),(0,t.createElement)("p",{className:"description"},(0,n.__)("تنظیمات جامع افزونه مدیریت سفارشات چاپ","tabesh-v2"))),i&&(0,t.createElement)("div",{className:`notice notice-${d} is-dismissible`},(0,t.createElement)("p",null,i)),(0,t.createElement)("div",{className:"settings-content"},(0,t.createElement)(h,{tabs:w})),(0,t.createElement)("div",{className:"settings-footer"},(0,t.createElement)("button",{type:"button",className:"button button-primary button-large",onClick:async()=>{o(!0),b("");try{await s()({path:"/tabesh/v2/settings",method:"POST",data:e}),b((0,n.__)("تنظیمات با موفقیت ذخیره شد!","tabesh-v2")),v("success"),o(!1)}catch(e){console.error("Error saving settings:",e),b((0,n.__)("خطا در ذخیره تنظیمات.","tabesh-v2")),v("error"),o(!1)}},disabled:m},m?(0,n.__)("در حال ذخیره...","tabesh-v2"):(0,n.__)("ذخیره تنظیمات","tabesh-v2")),(0,t.createElement)("button",{type:"button",className:"button button-secondary button-large",onClick:u,disabled:m},(0,n.__)("بازنشانی","tabesh-v2"))))},S=()=>{const e=document.getElementById("tabesh-v2-app");e&&(0,a.render)((0,t.createElement)(r,null),e);const n=document.getElementById("tabesh-v2-customers");n&&(0,a.render)((0,t.createElement)(_,null),n);const l=document.getElementById("tabesh-v2-managers");l&&(0,a.render)((0,t.createElement)(m,null),l);const s=document.getElementById("tabesh-v2-employees");s&&(0,a.render)((0,t.createElement)(o,null),s);const c=document.getElementById("tabesh-v2-settings");c&&(0,a.render)((0,t.createElement)(w,null),c)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",S):S()})();